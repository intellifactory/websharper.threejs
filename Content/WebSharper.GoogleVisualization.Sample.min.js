function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz;a=self;b=a.WebSharper=a.WebSharper||{};c=b.GoogleVisualization=b.GoogleVisualization||{};d=c.Sample=c.Sample||{};e=d.Client=d.Client||{};f=b.Operators=b.Operators||{};g=b.Google=b.Google||{};h=g.Visualization=g.Visualization||{};i=h.BarChartOptions=h.BarChartOptions||{};j=b.UI=b.UI||{};k=j.AttrModule=j.AttrModule||{};l=b.Obj=b.Obj||{};m=j.Client=j.Client||{};n=m.Templates=m.Templates||{};o=j.Doc=j.Doc||{};p=b.JavaScript=b.JavaScript||{};q=p.Pervasives=p.Pervasives||{};r=j.AttrProxy=j.AttrProxy||{};s=a.EventTarget;t=a.Node;u=p.JS=p.JS||{};v=b.Collections=b.Collections||{};w=v.Dictionary=v.Dictionary||{};x=j.DomUtility=j.DomUtility||{};y=b.Unchecked=b.Unchecked||{};z=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};A=b.Arrays=b.Arrays||{};B=v.HashSet=v.HashSet||{};C=b.Seq=b.Seq||{};D=a.WindowOrWorkerGlobalScope;E=j.View=j.View||{};F=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};G=j.Docs=j.Docs||{};H=j.Elt=j.Elt||{};I=j.Array=j.Array||{};J=v.DictionaryUtil=v.DictionaryUtil||{};K=a.Object;L=n.Prepare=n.Prepare||{};M=b.Slice=b.Slice||{};N=b.Enumerator=b.Enumerator||{};O=v.KeyCollection=v.KeyCollection||{};P=j.DocElemNode=j.DocElemNode||{};Q=a.CharacterData;R=j.An=j.An||{};S=m.Settings=m.Settings||{};T=j.Abbrev=j.Abbrev||{};U=T.Mailbox=T.Mailbox||{};V=j.Updates=j.Updates||{};W=j.Attrs=j.Attrs||{};X=b.List=b.List||{};Y=X.T=X.T||{};Z=b.Strings=b.Strings||{};_0=m.Attrs=m.Attrs||{};_1=_0.Dyn=_0.Dyn||{};_2=m.Docs=m.Docs||{};_3=_2.RunState=_2.RunState||{};_4=_2.NodeSet=_2.NodeSet||{};_5=j.Snap=j.Snap||{};_6=j.Anims=j.Anims||{};_7=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};_8=T.Fresh=T.Fresh||{};_9=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};_=N.T=N.T||{};$=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};ba=b.Concurrency=b.Concurrency||{};bb=j.AppendList=j.AppendList||{};bc=j.Easing=j.Easing||{};bd=ba.AsyncBody=ba.AsyncBody||{};be=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bf=ba.CT=ba.CT||{};bg=T.HashSet=T.HashSet||{};bh=v.HashSetUtil=v.HashSetUtil||{};bi=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bj=ba.Scheduler=ba.Scheduler||{};bk=b.CancellationTokenSource=b.CancellationTokenSource||{};bl=_2.DomNodes=_2.DomNodes||{};bm=a.Error;bn=b.OperationCanceledException=b.OperationCanceledException||{};bo=b.Lazy=b.Lazy||{};bp=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bq=b.Queue=b.Queue||{};br=b.LazyExtensionsProxy=b.LazyExtensionsProxy||{};bs=br.LazyRecord=br.LazyRecord||{};bt=a.google;bu=bt&&bt.visualization;bv=a.IntelliFactory;bw=bv&&bv.Runtime;bx=a.console;by=a.jQuery;bz=a.Date;e.Main=function(){var bA;bA=o.Element("div",[k.OnAfterRender(function(bB){var bC,bD,bE,bF;bC=new bu.BarChart(bB);bD=(bE={},bE.height=400,bE.legend=(bF={},bF.position="bottom",bF),bE.title="Company Performance",bE);bC.draw(e.AreaChartData(),bD);})],[]);n.LoadLocalTemplates("");o.RunById("main",bA);};e.AreaChartData=function(){var bA;bA=new bu.DataTable();bA.addColumn("string","Year");bA.addColumn("number","Sales");bA.addColumn("number","Expenses");bA.addRows([["2004",1000,400],["2005",1170,460],["2006",1660,1120],["2007",1030,540]]);return bA;};f.FailWith=function(bA){throw new bm(bA);};f.KeyValue=function(bA){return[bA.K,bA.V];};i=h.BarChartOptions=bw.Class({},null,i);k.OnAfterRender=function(bA){return new r({$:4,$0:bA});};l=b.Obj=bw.Class({Equals:function(bA){return this===bA;},GetHashCode:function(){return -1;}},null,l);l.New=bw.Ctor(function(){},l);n.LoadLocalTemplates=function(bA){!n.LocalTemplatesLoaded()?(n.set_LocalTemplatesLoaded(true),n.LoadNestedTemplates(self.document.body,"")):void 0;n.LoadedTemplates().set_Item(bA,n.LoadedTemplateFile(""));};n.LocalTemplatesLoaded=function(){z.$cctor();return z.LocalTemplatesLoaded;};n.set_LocalTemplatesLoaded=function(bA){z.$cctor();z.LocalTemplatesLoaded=bA;};n.LoadNestedTemplates=function(bA,bB){var bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ;function bC(bR){var bS,bT;if(!bD.ContainsKey(bR)){bS=(bT=null,[bE.TryGetValue(bR,{get:function(){return bT;},set:function(bU){bT=bU;}}),bT]);bS[0]?(bQ.Add(bR),bE.Remove(bR),n.PrepareTemplateStrict(bB,{$:1,$0:bR},bS[1][0],{$:1,$0:bS[1][1]},{$:1,$0:bC})):bx.warn(bQ.Contains(bR)?"Encountered loop when instantiating "+bR:"Local template does not exist: "+bR);}}bD=n.LoadedTemplateFile(bB);bE=new w.New$5();bF=bA.querySelectorAll("[ws-template]");for(bG=0,bH=bF.length-1;bG<=bH;bG++){bI=bF[bG];bJ=bI.getAttribute("ws-template").toLowerCase();bI.removeAttribute("ws-template");bE.set_Item(bJ,[[bI],n.FakeRootSingle(bI)]);}bK=bA.querySelectorAll("[ws-children-template]");for(bL=0,bM=bK.length-1;bL<=bM;bL++){bN=bK[bL];bO=bN.getAttribute("ws-children-template").toLowerCase();bN.removeAttribute("ws-children-template");bE.set_Item(bO,(bP=x.ChildrenArray(bN),[bP,n.FakeRoot(bP)]));}bQ=new B.New$3();while(bE.count>0)bC(C.head(bE.get_Keys()));};n.LoadedTemplates=function(){z.$cctor();return z.LoadedTemplates;};n.LoadedTemplateFile=function(bA){var bB,bC,bD;bB=(bC=null,[n.LoadedTemplates().TryGetValue(bA,{get:function(){return bC;},set:function(bE){bC=bE;}}),bC]);return bB[0]?bB[1]:(bD=new w.New$5(),(n.LoadedTemplates().set_Item(bA,bD),bD));};n.FakeRootSingle=function(bA){var bB,bC,bD;bA.removeAttribute("ws-template");bB=bA.getAttribute("ws-replace");bB===null?void 0:(bA.removeAttribute("ws-replace"),bC=bA.parentNode,y.Equals(bC,null)?void 0:(bD=self.document.createElement(bA.tagName),bD.setAttribute("ws-replace",bB),bC.replaceChild(bD,bA)));return n.FakeRoot([bA]);};n.FakeRoot=function(bA){var bB,bC,bD;bB=self.document.createElement("div");for(bC=0,bD=bA.length-1;bC<=bD;bC++)bB.appendChild(A.get(bA,bC));return bB;};n.PrepareTemplateStrict=function(bA,bB,bC,bD,bE){var bF,bG;function bH(bM,bN){var bO,bP,bQ,bR,bS,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;function bT(cd){}while(true)switch(bM){case 0:if(bN!==null){bO=bN.nextSibling;if(y.Equals(bN.nodeType,t.TEXT_NODE))L.convertTextNode(bN);else if(y.Equals(bN.nodeType,t.ELEMENT_NODE))bJ(bN);bN=bO;}else return null;break;case 1:bU=M.string(bN.nodeName,{$:1,$0:3},null).toLowerCase();bV=(bP=bU.indexOf("."),bP===-1?[bA,bU]:[M.string(bU,null,{$:1,$0:bP-1}),M.string(bU,{$:1,$0:bP+1},null)]);bW=bV[1];bX=bV[0];if(bX!==""&&!n.LoadedTemplates().ContainsKey(bX))return L.failNotLoaded(bW);else{if(bX===""&&bE!=null)bE.$0(bW);bY=n.LoadedTemplates().get_Item(bX);if(!bY.ContainsKey(bW))return L.failNotLoaded(bW);else{bZ=bY.get_Item(bW);b0=bZ.cloneNode(true);b1=new B.New$3();b2=new w.New$5();b3=bN.attributes;for(b4=0,b5=b3.length-1;b4<=b5;b4++){b6=b3.item(b4).name.toLowerCase();b2.set_Item(b6,(b7=b3.item(b4).nodeValue,b7===""?b6:b7.toLowerCase()));!b1.Add(b6)?bx.warn("Hole mapped twice",b6):void 0;}for(b8=0,b9=bN.childNodes.length-1;b8<=b9;b8++){b_=bN.childNodes[b8];y.Equals(b_.nodeType,t.ELEMENT_NODE)?!b1.Add(b_.nodeName.toLowerCase())?bx.warn("Hole filled twice",bW):void 0:void 0;}b$=bN.childNodes.length===1&&y.Equals(bN.firstChild.nodeType,t.TEXT_NODE);if(b$){bR=L.fillTextHole(b0,bN.firstChild.textContent,bW);((function(cd){return function(ce){if(ce!=null)cd(ce.$0);};}((bS=function(cd){return function(ce){return cd.Add(ce);};}(b1),function(cd){return bT(bS(cd));})))(bR));}L.removeHolesExcept(b0,b1);if(!b$){for(ca=0,cb=bN.childNodes.length-1;ca<=cb;ca++){cc=bN.childNodes[ca];y.Equals(cc.nodeType,t.ELEMENT_NODE)?cc.hasAttributes()?L.fillInstanceAttrs(b0,cc):bI(b0,cc):void 0;}}L.mapHoles(b0,b2);L.fill(b0,bN.parentNode,bN);bN.parentNode.removeChild(bN);return;}}break;}}function bI(bM,bN){var bO,bQ,bR;function bP(bS,bT){var bU,bV,bW;if(bQ==="title"&&bN.hasChildNodes()){bU=by.parseHTML(bN.textContent);bN.removeChild(bN.firstChild);for(bV=0,bW=bU.length-1;bV<=bW;bV++)bN.appendChild(A.get(bU,bV));}else null;bJ(bN);return L.fill(bN,bS,bT);}bQ=bN.nodeName.toLowerCase();x.IterSelector(bM,"[ws-attr-holes]",function(bS){var bT,bU,bV,bW,bX;bT=Z.SplitChars(bS.getAttribute("ws-attr-holes"),[" "],1);for(bU=0,bV=bT.length-1;bU<=bV;bU++){bW=A.get(bT,bU);bS.setAttribute(bW,(bX=new a.RegExp("\\${"+bQ+"}","ig"),bS.getAttribute(bW).replace(bX,bN.textContent)));}});bR=bM.querySelector("[ws-hole="+bQ+"]");if(y.Equals(bR,null)){bO=bM.querySelector("[ws-replace="+bQ+"]");return y.Equals(bO,null)?null:(bP(bO.parentNode,bO),void bO.parentNode.removeChild(bO));}else{while(bR.hasChildNodes())bR.removeChild(bR.lastChild);bR.removeAttribute("ws-hole");return bP(bR,null);}}function bJ(bM){if(Z.StartsWith(bM.nodeName.toLowerCase(),"ws-"))bL(bM);else{L.convertAttrs(bM);bK(bM.firstChild);}}function bK(bM){return bH(0,bM);}function bL(bM){return bH(1,bM);}bF=bD==null?n.FakeRoot(bC):bD.$0;bG=(bB==null?"":bB.$0).toLowerCase();n.LoadedTemplateFile(bA).set_Item(bG,bF);A.length(bC)>0?(function(bM){var bN,bO,bP,bQ;while(true){bN=bM.querySelector("[ws-template]");if(y.Equals(bN,null)){bO=bM.querySelector("[ws-children-template]");if(y.Equals(bO,null))return null;else{bP=bO.getAttribute("ws-children-template");bO.removeAttribute("ws-children-template");n.PrepareTemplateStrict(bA,{$:1,$0:bP},x.ChildrenArray(bO),null,null);bM=bM;}}else{bQ=bN.getAttribute("ws-template");(n.PrepareSingleTemplate(bA,{$:1,$0:bQ},bN))(null);bM=bM;}}}(bF),bK(A.get(bC,0))):void 0;};n.PrepareSingleTemplate=function(bA,bB,bC){var bD,bE,bF;bD=n.FakeRootSingle(bC);bE=[bC];bF={$:1,$0:bD};return function(bG){n.PrepareTemplateStrict(bA,bB,bE,bF,bG);};};n.TextHoleRE=function(){z.$cctor();return z.TextHoleRE;};o=j.Doc=bw.Class({},l,o);o.RunById=function(bA,bB){var bC;bC=x.Doc().getElementById(bA);y.Equals(bC,null)?f.FailWith("invalid id: "+bA):o.Run(bC,bB);};o.Element=function(bA,bB,bC){var bD,bE;bD=r.Concat(bB);bE=o.Concat(bC);return H.New(x.CreateElement(bA),bD,bE);};o.Run=function(bA,bB){G.LinkElement(bA,bB.docNode);o.RunInPlace(false,bA,bB);};o.Concat=function(bA){var bB;bB=I.ofSeqNonCopying(bA);return I.TreeReduce(o.get_Empty(),o.Append,bB);};o.RunInPlace=function(bA,bB,bC){var bD;bD=G.CreateRunState(bB,bC.docNode);E.Sink(R.get_UseAnimations()||S.BatchUpdatesEnabled()?U.StartProcessor(G.PerformAnimatedUpdate(bA,bD,bC.docNode)):function(){G.PerformSyncUpdate(bA,bD,bC.docNode);},bC.updates);};o.Append=function(bA,bB){return o.Mk({$:0,$0:bA.docNode,$1:bB.docNode},E.Map2Unit(bA.updates,bB.updates));};o.get_Empty=function(){return o.Mk(null,E.Const());};o.Mk=function(bA,bB){return new o.New(bA,bB);};o.New=bw.Ctor(function(bA,bB){l.New.call(this);this.docNode=bA;this.updates=bB;},o);q.NewFromSeq=function(bA){var bB,bC,bD;bB={};bC=N.Get(bA);try{while(bC.MoveNext()){bD=bC.Current();bB[bD[0]]=bD[1];}}finally{if(typeof bC=="object"&&"Dispose"in bC)bC.Dispose();}return bB;};r=j.AttrProxy=bw.Class({},null,r);r.Concat=function(bA){var bB;bB=I.ofSeqNonCopying(bA);return I.TreeReduce(W.EmptyAttr(),r.Append,bB);};r.Append=function(bA,bB){return W.AppendTree(bA,bB);};u.GetFieldValues=function(bA){var bB,bC;bB=[];for(var bD in bA)bB.push(bA[bD]);return bB;};w=v.Dictionary=bw.Class({set_Item:function(bA,bB){this.set(bA,bB);},ContainsKey:function(bA){var bB,bC;bB=this;bC=this.data[this.hash(bA)];return bC==null?false:A.exists(function(bD){return bB.equals.apply(null,[(f.KeyValue(bD))[0],bA]);},bC);},TryGetValue:function(bA,bB){var bC,bD,bE;bC=this;bD=this.data[this.hash(bA)];return bD==null?false:(bE=A.tryPick(function(bF){var bG;bG=f.KeyValue(bF);return bC.equals.apply(null,[bG[0],bA])?{$:1,$0:bG[1]}:null;},bD),bE!=null&&bE.$==1&&(bB.set(bE.$0),true));},Remove:function(bA){return this.remove(bA);},get_Keys:function(){return new O.New(this);},set:function(bA,bB){var bC,bD,bE,bF;bC=this;bD=this.hash(bA);bE=this.data[bD];bE==null?(this.count=this.count+1,this.data[bD]=new a.Array({K:bA,V:bB})):(bF=A.tryFindIndex(function(bG){return bC.equals.apply(null,[(f.KeyValue(bG))[0],bA]);},bE),bF==null?(this.count=this.count+1,bE.push({K:bA,V:bB})):bE[bF.$0]={K:bA,V:bB});},remove:function(bA){var bB,bC,bD,bE;bB=this;bC=this.hash(bA);bD=this.data[bC];return bD==null?false:(bE=A.filter(function(bF){return!bB.equals.apply(null,[(f.KeyValue(bF))[0],bA]);},bD),A.length(bE)<bD.length&&(this.count=this.count-1,this.data[bC]=bE,true));},get_Item:function(bA){return this.get(bA);},get:function(bA){var bB,bC;bB=this;bC=this.data[this.hash(bA)];return bC==null?J.notPresent():A.pick(function(bD){var bE;bE=f.KeyValue(bD);return bB.equals.apply(null,[bE[0],bA])?{$:1,$0:bE[1]}:null;},bC);},GetEnumerator:function(){return N.Get0(this);},GetEnumerator0:function(){return N.Get0(A.concat(u.GetFieldValues(this.data)));}},l,w);w.New$5=bw.Ctor(function(){w.New$6.call(this,[],y.Equals,y.Hash);},w);w.New$6=bw.Ctor(function(bA,bB,bC){var bD,bE;l.New.call(this);this.equals=bB;this.hash=bC;this.count=0;this.data=[];bD=N.Get(bA);try{while(bD.MoveNext()){bE=bD.Current();this.set(bE.K,bE.V);}}finally{if(typeof bD=="object"&&"Dispose"in bD)bD.Dispose();}},w);x.Doc=function(){F.$cctor();return F.Doc;};x.CreateElement=function(bA){return x.Doc().createElement(bA);};x.ChildrenArray=function(bA){var bB,bC,bD;bB=[];for(bC=0,bD=bA.childNodes.length-1;bC<=bD;bC++)bB.push(bA.childNodes[bC]);return bB;};x.IterSelector=function(bA,bB,bC){var bD,bE,bF;bD=bA.querySelectorAll(bB);for(bE=0,bF=bD.length-1;bE<=bF;bE++)bC(bD[bE]);};x.InsertAt=function(bA,bB,bC){var bD;if(!(bC.parentNode===bA&&bB===(bD=bC.nextSibling,y.Equals(bD,null)?null:bD)))bA.insertBefore(bC,bB);};x.RemoveNode=function(bA,bB){if(bB.parentNode===bA)bA.removeChild(bB);};y.Equals=function(bA,bB){var bC,bD,bE,bF;if(bA===bB)return true;else{bC=typeof bA;if(bC=="object"){if(bA===null||bA===void 0||bB===null||bB===void 0)return false;else if("Equals"in bA)return bA.Equals(bB);else if(bA instanceof a.Array&&bB instanceof a.Array)return y.arrayEquals(bA,bB);else if(bA instanceof a.Date&&bB instanceof a.Date)return y.dateEquals(bA,bB);else{bD=[true];for(var bG in bA)if(function(bH){bD[0]=!bA.hasOwnProperty(bH)||bB.hasOwnProperty(bH)&&y.Equals(bA[bH],bB[bH]);return!bD[0];}(bG))break;if(bD[0]){for(var bH in bB)if(function(bI){bD[0]=!bB.hasOwnProperty(bI)||bA.hasOwnProperty(bI);return!bD[0];}(bH))break;}return bD[0];}}else return bC=="function"&&("$Func"in bA?bA.$Func===bB.$Func&&bA.$Target===bB.$Target:"$Invokes"in bA&&"$Invokes"in bB&&y.arrayEquals(bA.$Invokes,bB.$Invokes));}};y.arrayEquals=function(bA,bB){var bC,bD;if(A.length(bA)===A.length(bB)){bC=true;bD=0;while(bC&&bD<A.length(bA)){!y.Equals(A.get(bA,bD),A.get(bB,bD))?bC=false:void 0;bD=bD+1;}return bC;}else return false;};y.dateEquals=function(bA,bB){return bA.getTime()===bB.getTime();};y.Hash=function(bA){var bB;bB=typeof bA;return bB=="function"?0:bB=="boolean"?bA?1:0:bB=="number"?bA:bB=="string"?y.hashString(bA):bB=="object"?bA==null?0:bA instanceof a.Array?y.hashArray(bA):y.hashObject(bA):0;};y.hashString=function(bA){var bB,bC,bD;if(bA===null)return 0;else{bB=5381;for(bC=0,bD=bA.length-1;bC<=bD;bC++)bB=y.hashMix(bB,bA[bC].charCodeAt());return bB;}};y.hashArray=function(bA){var bB,bC,bD;bB=-34948909;for(bC=0,bD=A.length(bA)-1;bC<=bD;bC++)bB=y.hashMix(bB,y.Hash(A.get(bA,bC)));return bB;};y.hashObject=function(bA){var bB,bC;if("GetHashCode"in bA)return bA.GetHashCode();else{bB=[0];for(var bD in bA)if(function(bE){bB[0]=y.hashMix(y.hashMix(bB[0],y.hashString(bE)),y.Hash(bA[bE]));return false;}(bD))break;return bB[0];}};y.hashMix=function(bA,bB){return(bA<<5)+bA+bB;};y.Compare=function(bA,bB){var bC,bD,bE,bF,bG,bH;if(bA===bB)return 0;else{bD=typeof bA;switch(bD=="function"?1:bD=="boolean"?2:bD=="number"?2:bD=="string"?2:bD=="object"?3:0){case 0:return typeof bB=="undefined"?0:-1;case 1:return f.FailWith("Cannot compare function values.");case 2:return bA<bB?-1:1;case 3:if(bA===null)bE=-1;else if(bB===null)bE=1;else if("CompareTo"in bA)bE=bA.CompareTo(bB);else if("CompareTo0"in bA)bE=bA.CompareTo0(bB);else if(bA instanceof a.Array&&bB instanceof a.Array)bE=y.compareArrays(bA,bB);else if(bA instanceof a.Date&&bB instanceof a.Date)bE=y.compareDates(bA,bB);else{bF=[0];for(var bI in bA)if(function(bJ){return!bA.hasOwnProperty(bJ)?false:!bB.hasOwnProperty(bJ)?(bF[0]=1,true):(bF[0]=y.Compare(bA[bJ],bB[bJ]),bF[0]!==0);}(bI))break;if(bF[0]===0){for(var bJ in bB)if(function(bK){return!bB.hasOwnProperty(bK)?false:!bA.hasOwnProperty(bK)&&(bF[0]=-1,true);}(bJ))break;}bE=bF[0];}return bE;}}};y.compareArrays=function(bA,bB){var bC,bD;if(A.length(bA)<A.length(bB))return -1;else if(A.length(bA)>A.length(bB))return 1;else{bC=0;bD=0;while(bC===0&&bD<A.length(bA)){bC=y.Compare(A.get(bA,bD),A.get(bB,bD));bD=bD+1;}return bC;}};y.compareDates=function(bA,bB){return y.Compare(bA.getTime(),bB.getTime());};z.$cctor=function(){z.$cctor=a.ignore;z.LoadedTemplates=new w.New$5();z.LocalTemplatesLoaded=false;z.TextHoleRE="\\${([^}]+)}";};A.get=function(bA,bB){A.checkBounds(bA,bB);return bA[bB];};A.checkBounds=function(bA,bB){if(bB<0||bB>=bA.length)f.FailWith("Index was outside the bounds of the array.");};A.length=function(bA){return bA.dims===2?bA.length*bA.length:bA.length;};A.set=function(bA,bB,bC){A.checkBounds(bA,bB);bA[bB]=bC;};B=v.HashSet=bw.Class({Add:function(bA){return this.add(bA);},Contains:function(bA){var bB;bB=this.data[this.hash(bA)];return bB==null?false:this.arrContains(bA,bB);},add:function(bA){var bB,bC;bB=this.hash(bA);bC=this.data[bB];return bC==null?(this.data[bB]=[bA],this.count=this.count+1,true):this.arrContains(bA,bC)?false:(bC.push(bA),this.count=this.count+1,true);},arrContains:function(bA,bB){var bC,bD,bE,bF;bC=true;bD=0;bF=bB.length;while(bC&&bD<bF)if(this.equals.apply(null,[bB[bD],bA]))bC=false;else bD=bD+1;return!bC;},ExceptWith:function(bA){var bB;bB=N.Get(bA);try{while(bB.MoveNext())this.Remove(bB.Current());}finally{if(typeof bB=="object"&&"Dispose"in bB)bB.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bA){var bB,bC,bD,bE;bB=0;bC=bh.concat(this.data);for(bD=0,bE=bC.length-1;bD<=bE;bD++)A.set(bA,bD,bC[bD]);},IntersectWith:function(bA){var bB,bC,bD,bE,bF;bB=new B.New$4(bA,this.equals,this.hash);bC=bh.concat(this.data);for(bD=0,bE=bC.length-1;bD<=bE;bD++){bF=bC[bD];!bB.Contains(bF)?this.Remove(bF):void 0;}},Remove:function(bA){var bB;bB=this.data[this.hash(bA)];return bB==null?false:this.arrRemove(bA,bB)&&(this.count=this.count-1,true);},arrRemove:function(bA,bB){var bC,bD,bE,bF;bC=true;bD=0;bF=bB.length;while(bC&&bD<bF)if(this.equals.apply(null,[bB[bD],bA])){bB.splice.apply(bB,[bD,1]);bC=false;}else bD=bD+1;return!bC;},GetEnumerator:function(){return N.Get(bh.concat(this.data));},GetEnumerator0:function(){return N.Get(bh.concat(this.data));}},l,B);B.New$3=bw.Ctor(function(){B.New$4.call(this,[],y.Equals,y.Hash);},B);B.New$4=bw.Ctor(function(bA,bB,bC){var bD;l.New.call(this);this.equals=bB;this.hash=bC;this.data=[];this.count=0;bD=N.Get(bA);try{while(bD.MoveNext())this.add(bD.Current());}finally{if(typeof bD=="object"&&"Dispose"in bD)bD.Dispose();}},B);B.New$2=bw.Ctor(function(bA){B.New$4.call(this,bA,y.Equals,y.Hash);},B);C.head=function(bA){var bB;bB=N.Get(bA);try{return bB.MoveNext()?bB.Current():C.insufficient();}finally{if(typeof bB=="object"&&"Dispose"in bB)bB.Dispose();}};C.fold=function(bA,bB,bC){var bD,bE;bD=bB;bE=N.Get(bC);try{while(bE.MoveNext())bD=bA(bD,bE.Current());return bD;}finally{if(typeof bE=="object"&&"Dispose"in bE)bE.Dispose();}};C.iter=function(bA,bB){var bC;bC=N.Get(bB);try{while(bC.MoveNext())bA(bC.Current());}finally{if(typeof bC=="object"&&"Dispose"in bC)bC.Dispose();}};C.map=function(bA,bB){return{GetEnumerator:function(){var bC;bC=N.Get(bB);return new _.New(null,null,function(bD){return bC.MoveNext()&&(bD.c=bA(bC.Current()),true);},function(){bC.Dispose();});}};};C.max=function(bA){var bB,bC,bD;bB=N.Get(bA);try{if(!bB.MoveNext())C.seqEmpty();bC=bB.Current();while(bB.MoveNext()){bD=bB.Current();y.Compare(bD,bC)===1?bC=bD:void 0;}return bC;}finally{if(typeof bB=="object"&&"Dispose"in bB)bB.Dispose();}};C.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};E=j.View=bw.Class({},null,E);F.$cctor=function(){F.$cctor=a.ignore;F.Doc=self.document;};G.LinkElement=function(bA,bB){G.InsertDoc(bA,bB,null);};G.InsertDoc=function(bA,bB,bC){var bD;return bB!=null&&bB.$==1?G.InsertNode(bA,bB.$0.El,bC):bB!=null&&bB.$==2?(bD=bB.$0,(bD.Dirty=false,G.InsertDoc(bA,bD.Current,bC))):bB==null?bC:bB!=null&&bB.$==4?G.InsertNode(bA,bB.$0.Text,bC):bB!=null&&bB.$==5?G.InsertNode(bA,bB.$0,bC):bB!=null&&bB.$==6?A.foldBack(function(bE,bF){return bE==null||bE.constructor===K?G.InsertDoc(bA,bE,bF):G.InsertNode(bA,bE,bF);},bB.$0.Els,bC):G.InsertDoc(bA,bB.$0,G.InsertDoc(bA,bB.$1,bC));};G.CreateRunState=function(bA,bB){return _3.New(_4.get_Empty(),G.CreateElemNode(bA,W.EmptyAttr(),bB));};G.PerformAnimatedUpdate=function(bA,bB,bC){var bD;return R.get_UseAnimations()?(bD=null,ba.Delay(function(){var bE,bF,bG;bE=_4.FindAll(bC);bF=G.ComputeChangeAnim(bB,bE);bG=G.ComputeEnterAnim(bB,bE);return ba.Bind(R.Play(R.Append(bF,G.ComputeExitAnim(bB,bE))),function(){return ba.Bind(G.SyncElemNodesNextFrame(bA,bB),function(){return ba.Bind(R.Play(bG),function(){bB.PreviousNodes=bE;return ba.Return(null);});});});})):G.SyncElemNodesNextFrame(bA,bB);};G.PerformSyncUpdate=function(bA,bB,bC){var bD;bD=_4.FindAll(bC);G.SyncElemNode(bA,bB.Top);bB.PreviousNodes=bD;};G.CreateElemNode=function(bA,bB,bC){var bD;G.LinkElement(bA,bC);bD=W.Insert(bA,bB);return P.New(bD,bC,null,bA,_8.Int(),bw.GetOptional(bD.OnAfterRender));};G.InsertNode=function(bA,bB,bC){x.InsertAt(bA,bC,bB);return bB;};G.SyncElemNodesNextFrame=function(bA,bB){function bC(bD){a.requestAnimationFrame(function(){G.SyncElemNode(bA,bB.Top);bD();});}return S.BatchUpdatesEnabled()?ba.FromContinuations(function(bD,bE,bF){return bC.apply(null,[bD,bE,bF]);}):(G.SyncElemNode(bA,bB.Top),ba.Return(null));};G.ComputeExitAnim=function(bA,bB){return R.Concat(A.map(function(bC){return W.GetExitAnim(bC.Attr);},_4.ToArray(_4.Except(bB,_4.Filter(function(bC){return W.HasExitAnim(bC.Attr);},bA.PreviousNodes)))));};G.ComputeEnterAnim=function(bA,bB){return R.Concat(A.map(function(bC){return W.GetEnterAnim(bC.Attr);},_4.ToArray(_4.Except(bA.PreviousNodes,_4.Filter(function(bC){return W.HasEnterAnim(bC.Attr);},bB)))));};G.ComputeChangeAnim=function(bA,bB){var bC;function bD(bE){return W.HasChangeAnim(bE.Attr);}bC=function(bE){return _4.Filter(bD,bE);};return R.Concat(A.map(function(bE){return W.GetChangeAnim(bE.Attr);},_4.ToArray(_4.Intersect(bC(bA.PreviousNodes),bC(bB)))));};G.SyncElemNode=function(bA,bB){!bA?G.SyncElement(bB):void 0;G.Sync(bB.Children);G.AfterRender(bB);};G.SyncElement=function(bA){function bB(bC){function bD(bE){var bF,bG;return bE!=null&&bE.$==0?bD(bE.$0)||bD(bE.$1):bE!=null&&bE.$==2?(bF=bE.$0,bF.Dirty||bD(bF.Current)):bE!=null&&bE.$==6&&(bG=bE.$0,bG.Dirty||A.exists(bB,bG.Holes));}return bD(bC.Children);}W.Sync(bA.El,bA.Attr);bB(bA)?G.DoSyncElement(bA):void 0;};G.Sync=function(bA){var bB,bC;if(bA!=null&&bA.$==1)G.SyncElemNode(false,bA.$0);else if(bA!=null&&bA.$==2)G.Sync(bA.$0.Current);else if(bA==null);else if(bA!=null&&bA.$==5);else if(bA!=null&&bA.$==4){bB=bA.$0;bB.Dirty?(bB.Text.nodeValue=bB.Value,bB.Dirty=false):void 0;}else if(bA!=null&&bA.$==6){bC=bA.$0;A.iter(function(bD){G.SyncElemNode(false,bD);},bC.Holes);A.iter(function(bD){W.Sync(bD[0],bD[1]);},bC.Attrs);G.AfterRender(bC);}else{G.Sync(bA.$0);G.Sync(bA.$1);}};G.AfterRender=function(bA){var bB;bB=bw.GetOptional(bA.Render);bB!=null&&bB.$==1?(bB.$0(bA.El),bw.SetOptional(bA,"Render",null)):void 0;};G.DoSyncElement=function(bA){var bB,bC,bD;function bE(bF,bG){var bH,bI;return bF!=null&&bF.$==1?bF.$0.El:bF!=null&&bF.$==2?(bH=bF.$0,bH.Dirty?(bH.Dirty=false,G.InsertDoc(bB,bH.Current,bG)):bE(bH.Current,bG)):bF==null?bG:bF!=null&&bF.$==4?bF.$0.Text:bF!=null&&bF.$==5?bF.$0:bF!=null&&bF.$==6?(bI=bF.$0,(bI.Dirty?bI.Dirty=false:void 0,A.foldBack(function(bJ,bK){return bJ==null||bJ.constructor===K?bE(bJ,bK):bJ;},bI.Els,bG))):bE(bF.$0,bE(bF.$1,bG));}bB=bA.El;bl.Iter((bC=bA.El,function(bF){x.RemoveNode(bC,bF);}),bl.Except(bl.DocChildren(bA),bl.Children(bA.El,bw.GetOptional(bA.Delimiters))));bE(bA.Children,(bD=bw.GetOptional(bA.Delimiters),bD!=null&&bD.$==1?bD.$0[1]:null));};H=j.Elt=bw.Class({},o,H);H.New=function(bA,bB,bC){var bD,bE;bD=G.CreateElemNode(bA,bB,bC.docNode);bE=V.Create(bC.updates);return new H.New$1({$:1,$0:bD},E.Map2Unit(W.Updates(bD.Attr),bE.v),bA,bE);};H.New$1=bw.Ctor(function(bA,bB,bC,bD){o.New.call(this,bA,bB);this.docNode$1=bA;this.updates$1=bB;this.elt=bC;this.rvUpdates=bD;},H);I.ofSeqNonCopying=function(bA){var bB,bC;if(bA instanceof a.Array)return bA;else if(bA instanceof Y)return A.ofList(bA);else if(bA===null)return[];else{bB=[];bC=N.Get(bA);try{while(bC.MoveNext())bB.push(bC.Current());return bB;}finally{if(typeof bC=="object"&&"Dispose"in bC)bC.Dispose();}}};I.TreeReduce=function(bA,bB,bC){var bD;function bE(bF,bG){var bH,bI;return bG<=0?bA:bG===1&&(bF>=0&&bF<bD)?A.get(bC,bF):(bI=bG/2>>0,bB(bE(bF,bI),bE(bF+bI,bG-bI)));}bD=A.length(bC);return bE(0,bD);};I.MapTreeReduce=function(bA,bB,bC,bD){var bE;function bF(bG,bH){var bI,bJ;return bH<=0?bB:bH===1&&(bG>=0&&bG<bE)?bA(A.get(bD,bG)):(bJ=bH/2>>0,bC(bF(bG,bJ),bF(bG+bJ,bH-bJ)));}bE=A.length(bD);return bF(0,bE);};J.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};A.exists=function(bA,bB){var bC,bD,bE,bF;bC=false;bD=0;bF=A.length(bB);while(!bC&&bD<bF)if(bA(bB[bD]))bC=true;else bD=bD+1;return bC;};A.tryPick=function(bA,bB){var bC,bD,bE;bC=null;bD=0;while(bD<bB.length&&bC==null){bE=bA(bB[bD]);bE!=null&&bE.$==1?bC=bE:void 0;bD=bD+1;}return bC;};A.tryFindIndex=function(bA,bB){var bC,bD;bC=null;bD=0;while(bD<bB.length&&bC==null){bA(bB[bD])?bC={$:1,$0:bD}:void 0;bD=bD+1;}return bC;};A.ofList=function(bA){var bB,bC;bC=[];bB=bA;while(!(bB.$==0)){bC.push(X.head(bB));bB=X.tail(bB);}return bC;};A.filter=function(bA,bB){var bC,bD,bE;bC=[];for(bD=0,bE=bB.length-1;bD<=bE;bD++)if(bA(bB[bD]))bC.push(bB[bD]);return bC;};A.map=function(bA,bB){var bC,bD,bE;bC=new a.Array(bB.length);for(bD=0,bE=bB.length-1;bD<=bE;bD++)bC[bD]=bA(bB[bD]);return bC;};A.iter=function(bA,bB){var bC,bD;for(bC=0,bD=bB.length-1;bC<=bD;bC++)bA(bB[bC]);};A.foldBack=function(bA,bB,bC){var bD,bE,bF,bG,bH;bD=bC;bF=bB.length;for(bG=1,bH=bF;bG<=bH;bG++)bD=bA(bB[bF-bG],bD);return bD;};A.pick=function(bA,bB){var bC;bC=A.tryPick(bA,bB);return bC==null?f.FailWith("KeyNotFoundException"):bC.$0;};A.ofSeq=function(bA){var bB,bC;if(bA instanceof a.Array)return bA.slice();else if(bA instanceof Y)return A.ofList(bA);else{bB=[];bC=N.Get(bA);try{while(bC.MoveNext())bB.push(bC.Current());return bB;}finally{if(typeof bC=="object"&&"Dispose"in bC)bC.Dispose();}}};A.choose=function(bA,bB){var bC,bD,bE,bF;bC=[];for(bD=0,bE=bB.length-1;bD<=bE;bD++){bF=bA(bB[bD]);bF==null?void 0:bC.push(bF.$0);}return bC;};A.concat=function(bA){return a.Array.prototype.concat.apply([],A.ofSeq(bA));};A.create=function(bA,bB){var bC,bD,bE;bC=new a.Array(bA);for(bD=0,bE=bA-1;bD<=bE;bD++)bC[bD]=bB;return bC;};A.init=function(bA,bB){var bC,bD,bE;bA<0?f.FailWith("Negative size given."):null;bC=new a.Array(bA);for(bD=0,bE=bA-1;bD<=bE;bD++)bC[bD]=bB(bD);return bC;};A.forall=function(bA,bB){var bC,bD,bE,bF;bC=true;bD=0;bF=A.length(bB);while(bC&&bD<bF)if(bA(bB[bD]))bD=bD+1;else bC=false;return bC;};L.convertTextNode=function(bA){var bB,bC,bD,bE,bF,bG;bB=null;bC=0;bE=bA.textContent;bF=new a.RegExp(n.TextHoleRE(),"g");while(bB=bF.exec(bE),bB!==null){bA.parentNode.insertBefore(self.document.createTextNode(M.string(bE,{$:1,$0:bC},{$:1,$0:bF.lastIndex-A.get(bB,0).length-1})),bA);bC=bF.lastIndex;bG=self.document.createElement("span");bG.setAttribute("ws-replace",A.get(bB,1).toLowerCase());bA.parentNode.insertBefore(bG,bA);}bF.lastIndex=0;bA.textContent=M.string(bE,{$:1,$0:bC},null);};L.failNotLoaded=function(bA){bx.warn("Instantiating non-loaded template",bA);};L.fillTextHole=function(bA,bB,bC){var bD;bD=bA.querySelector("[ws-replace]");return y.Equals(bD,null)?(bx.warn("Filling non-existent text hole",bC),null):(bD.parentNode.replaceChild(new a.Text(bB),bD),{$:1,$0:bD.getAttribute("ws-replace")});};L.removeHolesExcept=function(bA,bB){function bC(bD){x.IterSelector(bA,"["+bD+"]",function(bE){if(!bB.Contains(bE.getAttribute(bD)))bE.removeAttribute(bD);});}bC("ws-attr");bC("ws-onafterrender");bC("ws-var");x.IterSelector(bA,"[ws-hole]",function(bD){if(!bB.Contains(bD.getAttribute("ws-hole"))){bD.removeAttribute("ws-hole");while(bD.hasChildNodes())bD.removeChild(bD.lastChild);}});x.IterSelector(bA,"[ws-replace]",function(bD){if(!bB.Contains(bD.getAttribute("ws-replace")))bD.parentNode.removeChild(bD);});x.IterSelector(bA,"[ws-on]",function(bD){bD.setAttribute("ws-on",Z.concat(" ",A.filter(function(bE){return bB.Contains(A.get(Z.SplitChars(bE,[":"],1),1));},Z.SplitChars(bD.getAttribute("ws-on"),[" "],1))));});x.IterSelector(bA,"[ws-attr-holes]",function(bD){var bE,bF,bG,bH,bI;bE=Z.SplitChars(bD.getAttribute("ws-attr-holes"),[" "],1);for(bF=0,bG=bE.length-1;bF<=bG;bF++){bH=A.get(bE,bF);bD.setAttribute(bH,(bI=new a.RegExp(n.TextHoleRE(),"g"),bD.getAttribute(bH).replace(bI,function(bJ,bK){return bB.Contains(bK)?bJ:"";})));}});};L.fillInstanceAttrs=function(bA,bB){var bC,bD,bE,bF,bG;L.convertAttrs(bB);bC=bB.nodeName.toLowerCase();bD=bA.querySelector("[ws-attr="+bC+"]");if(y.Equals(bD,null))bx.warn("Filling non-existent attr hole",bC);else{bD.removeAttribute("ws-attr");for(bE=0,bF=bB.attributes.length-1;bE<=bF;bE++){bG=bB.attributes.item(bE);bG.name==="class"&&bD.hasAttribute("class")?bD.setAttribute("class",bD.getAttribute("class")+" "+bG.nodeValue):bD.setAttribute(bG.name,bG.nodeValue);}}};L.mapHoles=function(bA,bB){function bC(bD){x.IterSelector(bA,"["+bD+"]",function(bE){var bF,bG;bF=(bG=null,[bB.TryGetValue(bE.getAttribute(bD).toLowerCase(),{get:function(){return bG;},set:function(bH){bG=bH;}}),bG]);bF[0]?bE.setAttribute(bD,bF[1]):void 0;});}bC("ws-hole");bC("ws-replace");bC("ws-attr");bC("ws-onafterrender");bC("ws-var");x.IterSelector(bA,"[ws-on]",function(bD){bD.setAttribute("ws-on",Z.concat(" ",A.map(function(bE){var bF,bG,bH;bF=Z.SplitChars(bE,[":"],1);bG=(bH=null,[bB.TryGetValue(A.get(bF,1),{get:function(){return bH;},set:function(bI){bH=bI;}}),bH]);return bG[0]?A.get(bF,0)+":"+bG[1]:bE;},Z.SplitChars(bD.getAttribute("ws-on"),[" "],1))));});x.IterSelector(bA,"[ws-attr-holes]",function(bD){var bE,bF,bG;bE=Z.SplitChars(bD.getAttribute("ws-attr-holes"),[" "],1);for(bF=0,bG=bE.length-1;bF<=bG;bF++)(function(){var bH;function bI(bJ,bK){var bL;bL=f.KeyValue(bK);return bJ.replace(new a.RegExp("\\${"+bL[0]+"}","ig"),"${"+bL[1]+"}");}bH=A.get(bE,bF);return bD.setAttribute(bH,(((bw.Curried3(C.fold))(bI))(bD.getAttribute(bH)))(bB));}());});};L.fill=function(bA,bB,bC){while(true)if(bA.hasChildNodes())bC=bB.insertBefore(bA.lastChild,bC);else return null;};L.convertAttrs=function(bA){var bC,bD,bE,bF,bG,bH,bI,bJ;function bB(bK){var bL;bL=bA.getAttribute(bK);bL===null?void 0:bA.setAttribute(bK,bL.toLowerCase());}bC=bA.attributes;bD=[];bE=[];bF=[];for(bG=0,bH=bC.length-1;bG<=bH;bG++){bI=bC.item(bG);Z.StartsWith(bI.nodeName,"ws-on")&&bI.nodeName!=="ws-onafterrender"&&bI.nodeName!=="ws-on"?(bD.push(bI.nodeName),bE.push(M.string(bI.nodeName,{$:1,$0:"ws-on".length},null)+":"+bI.nodeValue.toLowerCase())):!Z.StartsWith(bI.nodeName,"ws-")&&(new a.RegExp(n.TextHoleRE())).test(bI.nodeValue)?(bI.nodeValue=(bJ=new a.RegExp(n.TextHoleRE(),"g"),bI.nodeValue.replace(bJ,function(bK,bL){return"${"+bL.toLowerCase()+"}";})),bF.push(bI.nodeName)):void 0;}!(bE.length==0)?bA.setAttribute("ws-on",Z.concat(" ",bE)):void 0;!(bF.length==0)?bA.setAttribute("ws-attr-holes",Z.concat(" ",bF)):void 0;bB("ws-hole");bB("ws-replace");bB("ws-attr");bB("ws-onafterrender");bB("ws-var");A.iter(function(bK){bA.removeAttribute(bK);},bD);};M.string=function(bA,bB,bC){return bB==null?bC!=null&&bC.$==1?bA.slice(0,bC.$0+1):"":bC==null?bA.slice(bB.$0):bA.slice(bB.$0,bC.$0+1);};N.Get=function(bA){return bA instanceof a.Array?N.ArrayEnumerator(bA):y.Equals(typeof bA,"string")?N.StringEnumerator(bA):bA.GetEnumerator();};N.ArrayEnumerator=function(bA){return new _.New(0,null,function(bB){var bC;bC=bB.s;return bC<A.length(bA)&&(bB.c=A.get(bA,bC),bB.s=bC+1,true);},void 0);};N.StringEnumerator=function(bA){return new _.New(0,null,function(bB){var bC;bC=bB.s;return bC<bA.length&&(bB.c=bA[bC],bB.s=bC+1,true);},void 0);};N.Get0=function(bA){return bA instanceof a.Array?N.ArrayEnumerator(bA):y.Equals(typeof bA,"string")?N.StringEnumerator(bA):"GetEnumerator0"in bA?bA.GetEnumerator0():bA.GetEnumerator();};C.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};O=v.KeyCollection=bw.Class({GetEnumerator$1:function(){return N.Get(C.map(function(bA){return bA.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},l,O);O.New=bw.Ctor(function(bA){l.New.call(this);this.d=bA;},O);P=j.DocElemNode=bw.Class({Equals:function(bA){return this.ElKey===bA.ElKey;},GetHashCode:function(){return this.ElKey;}},null,P);P.New=function(bA,bB,bC,bD,bE,bF){var bG;return new P((bG={Attr:bA,Children:bB,El:bD,ElKey:bE},(bw.SetOptional(bG,"Delimiters",bC),bw.SetOptional(bG,"Render",bF),bG)));};E.Sink=function(bA,bB){function bC(){_5.WhenRun(bB(),bA,function(){ba.scheduler().Fork(bC);});}ba.scheduler().Fork(bC);};E.Map2Unit=function(bA,bB){return E.CreateLazy(function(){return _5.Map2Unit(bA(),bB());});};E.Const=function(bA){var bB;bB=_5.New({$:0,$0:bA});return function(){return bB;};};E.CreateLazy=function(bA){var bB;bB={c:null,o:bA};return function(){var bC,bD;bC=bB.c;return bC===null?(bC=bB.o(),bB.c=bC,(bD=bC.s,bD!=null&&bD.$==0)?bB.o=null:_5.WhenObsoleteRun(bC,function(){bB.c=null;}),bC):bC;};};R.get_UseAnimations=function(){return _6.UseAnimations();};R.Play=function(bA){var bB;bB=null;return ba.Delay(function(){return ba.Bind(R.Run(a.ignore,_6.Actions(bA)),function(){_6.Finalize(bA);return ba.Return(null);});});};R.Append=function(bA,bB){return{$:0,$0:bb.Append(bA.$0,bB.$0)};};R.Run=function(bA,bB){var bC;function bD(bE){function bF(bG,bH){var bI;bI=bH-bG;bB.Compute(bI);bA();return bI<=bC?void a.requestAnimationFrame(function(bJ){bF(bG,bJ);}):bE();}a.requestAnimationFrame(function(bG){bF(bG,bG);});}bC=bB.Duration;return bC===0?ba.Zero():ba.FromContinuations(function(bE,bF,bG){return bD.apply(null,[bE,bF,bG]);});};R.Concat=function(bA){return{$:0,$0:bb.Concat(C.map(_6.List,bA))};};S.BatchUpdatesEnabled=function(){_7.$cctor();return _7.BatchUpdatesEnabled;};U.StartProcessor=function(bA){var bB;function bC(){var bD;bD=null;return ba.Delay(function(){return ba.Bind(bA,function(){var bE;bE=bB[0];return bE===1?(bB[0]=0,ba.Zero()):bE===2?(bB[0]=1,bC()):ba.Zero();});});}bB=[0];return function(){var bD;bD=bB[0];bD===0?(bB[0]=1,ba.Start(bC(),null)):bD===1?bB[0]=2:void 0;};};V=j.Updates=bw.Class({},null,V);V.Create=function(bA){var bB;bB=null;bB=V.New(bA,null,function(){var bC;bC=bB.s;return bC===null?(bC=_5.Copy(bB.c()),bB.s=bC,_5.WhenObsoleteRun(bC,function(){bB.s=null;}),bC):bC;});return bB;};V.New=function(bA,bB,bC){return new V({c:bA,s:bB,v:bC});};W.Updates=function(bA){return I.MapTreeReduce(function(bB){return bB.NChanged();},E.Const(),E.Map2Unit,bA.DynNodes);};W.AppendTree=function(bA,bB){var bC;return bA===null?bB:bB===null?bA:(bC=new r({$:2,$0:bA,$1:bB}),(W.SetFlags(bC,W.Flags(bA)|W.Flags(bB)),bC));};W.EmptyAttr=function(){_9.$cctor();return _9.EmptyAttr;};W.Insert=function(bA,bB){var bC,bD,bE;function bF(bG){if(!(bG===null))if(bG!=null&&bG.$==1)bC.push(bG.$0);else if(bG!=null&&bG.$==2){bF(bG.$0);bF(bG.$1);}else if(bG!=null&&bG.$==3)bG.$0(bA);else if(bG!=null&&bG.$==4)bD.push(bG.$0);}bC=[];bD=[];bF(bB);bE=bC.slice(0);return _1.New(bA,W.Flags(bB),bE,bD.length===0?null:{$:1,$0:function(bG){C.iter(function(bH){bH(bG);},bD);}});};W.SetFlags=function(bA,bB){bA.flags=bB;};W.Flags=function(bA){return bA!==null&&bA.hasOwnProperty("flags")?bA.flags:0;};W.HasExitAnim=function(bA){var bB;bB=2;return(bA.DynFlags&bB)===bB;};W.GetExitAnim=function(bA){return W.GetAnim(bA,function(bB,bC){return bB.NGetExitAnim(bC);});};W.HasEnterAnim=function(bA){var bB;bB=1;return(bA.DynFlags&bB)===bB;};W.GetEnterAnim=function(bA){return W.GetAnim(bA,function(bB,bC){return bB.NGetEnterAnim(bC);});};W.HasChangeAnim=function(bA){var bB;bB=4;return(bA.DynFlags&bB)===bB;};W.GetChangeAnim=function(bA){return W.GetAnim(bA,function(bB,bC){return bB.NGetChangeAnim(bC);});};W.GetAnim=function(bA,bB){return R.Concat(A.map(function(bC){return bB(bC,bA.DynElem);},bA.DynNodes));};W.Sync=function(bA,bB){A.iter(function(bC){bC.NSync(bA);},bB.DynNodes);};Y=X.T=bw.Class({GetEnumerator:function(){return new _.New(this,null,function(bA){var bB;bB=bA.s;return bB.$==0?false:(bA.c=bB.$0,bA.s=bB.$1,true);},void 0);},GetEnumerator0:function(){return N.Get(this);}},null,Y);Z.concat=function(bA,bB){return A.ofSeq(bB).join(bA);};Z.SplitChars=function(bA,bB,bC){return Z.Split(bA,new a.RegExp("["+Z.RegexEscape(bB.join(""))+"]"),bC);};Z.StartsWith=function(bA,bB){return bA.substring(0,bB.length)==bB;};Z.Split=function(bA,bB,bC){return bC===1?A.filter(function(bD){return bD!=="";},Z.SplitWith(bA,bB)):Z.SplitWith(bA,bB);};Z.RegexEscape=function(bA){return bA.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};Z.SplitWith=function(bA,bB){return bA.split(bB);};_1.New=function(bA,bB,bC,bD){var bE;bE={DynElem:bA,DynFlags:bB,DynNodes:bC};bw.SetOptional(bE,"OnAfterRender",bD);return bE;};_3.New=function(bA,bB){return{PreviousNodes:bA,Top:bB};};_4.get_Empty=function(){return{$:0,$0:new B.New$3()};};_4.FindAll=function(bA){var bB;function bC(bE){if(bE!=null&&bE.$==0){bC(bE.$0);bC(bE.$1);}else if(bE!=null&&bE.$==1)bD(bE.$0);else if(bE!=null&&bE.$==2)bC(bE.$0.Current);else if(bE!=null&&bE.$==6)A.iter(bD,bE.$0.Holes);}function bD(bE){bB.push(bE);bC(bE.Children);}bB=[];bC(bA);return{$:0,$0:new B.New$2(bB)};};_4.Filter=function(bA,bB){return{$:0,$0:bg.Filter(bA,bB.$0)};};_4.Except=function(bA,bB){return{$:0,$0:bg.Except(bA.$0,bB.$0)};};_4.ToArray=function(bA){return bg.ToArray(bA.$0);};_4.Intersect=function(bA,bB){return{$:0,$0:bg.Intersect(bA.$0,bB.$0)};};_5.WhenRun=function(bA,bB,bC){var bD;bD=bA.s;bD==null?bC():bD!=null&&bD.$==2?(bD.$1.push(bC),bB(bD.$0)):bD!=null&&bD.$==3?(bD.$0.push(bB),bD.$1.push(bC)):bB(bD.$0);};_5.Copy=function(bA){var bB,bC,bD;bB=bA.s;return bB==null?bA:bB!=null&&bB.$==2?(bC=_5.New({$:2,$0:bB.$0,$1:[]}),(_5.WhenObsolete(bA,bC),bC)):bB!=null&&bB.$==3?(bD=_5.New({$:3,$0:[],$1:[]}),(_5.When(bA,function(bE){_5.MarkDone(bD,bA,bE);},bD),bD)):bA;};_5.WhenObsoleteRun=function(bA,bB){var bC;bC=bA.s;bC==null?bB():bC!=null&&bC.$==2?bC.$1.push(bB):bC!=null&&bC.$==3?bC.$1.push(bB):void 0;};_5.Map2Unit=function(bA,bB){var bC,bD,bE;function bF(){var bG,bH,bI;if(!(bG=bE.s,bG!=null&&bG.$==0||bG!=null&&bG.$==2)){bH=_5.ValueAndForever(bA);bI=_5.ValueAndForever(bB);bH!=null&&bH.$==1?bI!=null&&bI.$==1?bH.$0[1]&&bI.$0[1]?_5.MarkForever(bE,null):_5.MarkReady(bE,null):void 0:void 0;}}bC=bA.s;bD=bB.s;return bC!=null&&bC.$==0?bD!=null&&bD.$==0?_5.New({$:0,$0:null}):bB:bD!=null&&bD.$==0?bA:(bE=_5.New({$:3,$0:[],$1:[]}),(_5.When(bA,bF,bE),_5.When(bB,bF,bE),bE));};_5.WhenObsolete=function(bA,bB){var bC;bC=bA.s;bC==null?_5.Obsolete(bB):bC!=null&&bC.$==2?_5.EnqueueSafe(bC.$1,bB):bC!=null&&bC.$==3?_5.EnqueueSafe(bC.$1,bB):void 0;};_5.When=function(bA,bB,bC){var bD;bD=bA.s;bD==null?_5.Obsolete(bC):bD!=null&&bD.$==2?(_5.EnqueueSafe(bD.$1,bC),bB(bD.$0)):bD!=null&&bD.$==3?(bD.$0.push(bB),_5.EnqueueSafe(bD.$1,bC)):bB(bD.$0);};_5.MarkDone=function(bA,bB,bC){var bD;if(bD=bB.s,bD!=null&&bD.$==0)_5.MarkForever(bA,bC);else _5.MarkReady(bA,bC);};_5.ValueAndForever=function(bA){var bB;bB=bA.s;return bB!=null&&bB.$==0?{$:1,$0:[bB.$0,true]}:bB!=null&&bB.$==2?{$:1,$0:[bB.$0,false]}:null;};_5.MarkForever=function(bA,bB){var bC,bD,bE,bF;bC=bA.s;if(bC!=null&&bC.$==3){bA.s={$:0,$0:bB};bD=bC.$0;for(bE=0,bF=A.length(bD)-1;bE<=bF;bE++)(A.get(bD,bE))(bB);}else void 0;};_5.MarkReady=function(bA,bB){var bC,bD,bE,bF;bC=bA.s;if(bC!=null&&bC.$==3){bA.s={$:2,$0:bB,$1:bC.$1};bD=bC.$0;for(bE=0,bF=A.length(bD)-1;bE<=bF;bE++)(A.get(bD,bE))(bB);}else void 0;};_5.EnqueueSafe=function(bA,bB){var bC,bD,bE,bF;bA.push(bB);if(bA.length%20===0){bC=bA.slice(0);bq.Clear(bA);for(bD=0,bE=A.length(bC)-1;bD<=bE;bD++){bF=A.get(bC,bD);typeof bF=="object"?function(bG){if(bG.s)bA.push(bG);}(bF):function(bG){bA.push(bG);}(bF);}}else void 0;};_6.UseAnimations=function(){$.$cctor();return $.UseAnimations;};_6.Actions=function(bA){return _6.ConcatActions(A.choose(function(bB){return bB.$==1?{$:1,$0:bB.$0}:null;},bb.ToArray(bA.$0)));};_6.Finalize=function(bA){A.iter(function(bB){if(bB.$==0)bB.$0();},bb.ToArray(bA.$0));};_6.ConcatActions=function(bA){var bB,bC,bD,bE;bB=I.ofSeqNonCopying(bA);bC=A.length(bB);return bC===0?_6.Const():bC===1?A.get(bB,0):(bD=C.max(C.map(function(bF){return bF.Duration;},bB)),(bE=A.map(function(bF){return _6.Prolong(bD,bF);},bB),_6.Def(bD,function(bF){A.iter(function(bG){bG.Compute(bF);},bE);})));};_6.List=function(bA){return bA.$0;};_6.Const=function(bA){return _6.Def(0,function(){return bA;});};_6.Def=function(bA,bB){return{Compute:bB,Duration:bA};};_6.Prolong=function(bA,bB){var bC,bD,bE;bC=bB.Compute;bD=bB.Duration;bE=bo.Create(function(){return bB.Compute(bB.Duration);});return{Compute:function(bF){return bF>=bD?bE.f():bC(bF);},Duration:bA};};_7.$cctor=function(){_7.$cctor=a.ignore;_7.BatchUpdatesEnabled=true;};_8.Int=function(){_8.set_counter(_8.counter()+1);return _8.counter();};_8.set_counter=function(bA){bi.$cctor();bi.counter=bA;};_8.counter=function(){bi.$cctor();return bi.counter;};X.head=function(bA){return bA.$==1?bA.$0:X.listEmpty();};X.tail=function(bA){return bA.$==1?bA.$1:X.listEmpty();};X.listEmpty=function(){return f.FailWith("The input list was empty.");};_9.$cctor=function(){_9.$cctor=a.ignore;_9.EmptyAttr=null;};_=N.T=bw.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},l,_);_.New=bw.Ctor(function(bA,bB,bC,bD){l.New.call(this);this.s=bA;this.c=bB;this.n=bC;this.d=bD;},_);_5.Obsolete=function(bA){var bB,bC,bD,bE,bF;bC=bA.s;if(bC==null||(bC!=null&&bC.$==2?(bB=bC.$1,false):bC!=null&&bC.$==3?(bB=bC.$1,false):true))void 0;else{bA.s=null;for(bD=0,bE=A.length(bB)-1;bD<=bE;bD++){bF=A.get(bB,bD);typeof bF=="object"?function(bG){_5.Obsolete(bG);}(bF):bF();}}};_5.New=function(bA){return{s:bA};};$.$cctor=function(){$.$cctor=a.ignore;$.CubicInOut=bc.Custom(function(bA){var bB;bB=bA*bA;return 3*bB-2*(bB*bA);});$.UseAnimations=true;};ba.Delay=function(bA){return function(bB){try{(bA(null))(bB);}catch(bC){bB.k({$:1,$0:bC});}};};ba.Bind=function(bA,bB){return ba.checkCancel(function(bC){bA(bd.New(function(bD){var bE;if(bD.$==0){bE=bD.$0;ba.scheduler().Fork(function(){try{(bB(bE))(bC);}catch(bF){bC.k({$:1,$0:bF});}});}else ba.scheduler().Fork(function(){bC.k(bD);});},bC.ct));});};ba.Zero=function(){be.$cctor();return be.Zero;};ba.Start=function(bA,bB){var bC,bD;bC=(bD=(ba.defCTS())[0],bB==null?bD:bB.$0);ba.scheduler().Fork(function(){if(!bC.c)bA(bd.New(function(bE){if(bE.$==1)ba.UncaughtAsyncError(bE.$0);},bC));});};ba.Return=function(bA){return function(bB){bB.k({$:0,$0:bA});};};ba.checkCancel=function(bA){return function(bB){if(bB.ct.c)ba.cancel(bB);else bA(bB);};};ba.defCTS=function(){be.$cctor();return be.defCTS;};ba.UncaughtAsyncError=function(bA){bx.log("WebSharper: Uncaught asynchronous exception",bA);};ba.FromContinuations=function(bA){return function(bB){var bC;function bD(bE){if(bC[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bC[0]=true;ba.scheduler().Fork(bE);}}bC=[false];bA(function(bE){bD(function(){bB.k({$:0,$0:bE});});},function(bE){bD(function(){bB.k({$:1,$0:bE});});},function(bE){bD(function(){bB.k({$:2,$0:bE});});});};};ba.cancel=function(bA){bA.k({$:2,$0:new bn.New(bA.ct)});};ba.scheduler=function(){be.$cctor();return be.scheduler;};bb.Append=function(bA,bB){return bA.$==0?bB:bB.$==0?bA:{$:2,$0:bA,$1:bB};};bb.ToArray=function(bA){var bB;function bC(bD){if(bD.$==1)bB.push(bD.$0);else if(bD.$==2){bC(bD.$0);bC(bD.$1);}else if(bD.$==3)A.iter(function(bE){bB.push(bE);},bD.$0);}bB=[];bC(bA);return bB.slice(0);};bb.Concat=function(bA){var bB;bB=I.ofSeqNonCopying(bA);return I.TreeReduce(bb.Empty(),bb.Append,bB);};bb.Empty=function(){bp.$cctor();return bp.Empty;};bc=j.Easing=bw.Class({},l,bc);bc.Custom=function(bA){return new bc.New(bA);};bc.New=bw.Ctor(function(bA){l.New.call(this);this.transformTime=bA;},bc);bd.New=function(bA,bB){return{k:bA,ct:bB};};be.$cctor=function(){be.$cctor=a.ignore;be.noneCT=bf.New(false,[]);be.scheduler=new bj.New();be.defCTS=[new bk.New()];be.Zero=ba.Return();be.GetCT=function(bA){bA.k({$:0,$0:bA.ct});};};bf.New=function(bA,bB){return{c:bA,r:bB};};bg.Filter=function(bA,bB){return new B.New$2(A.filter(bA,bg.ToArray(bB)));};bg.Except=function(bA,bB){var bC;bC=new B.New$2(bg.ToArray(bB));bC.ExceptWith(bg.ToArray(bA));return bC;};bg.ToArray=function(bA){var bB;bB=A.create(bA.get_Count(),void 0);bA.CopyTo(bB);return bB;};bg.Intersect=function(bA,bB){var bC;bC=new B.New$2(bg.ToArray(bA));bC.IntersectWith(bg.ToArray(bB));return bC;};bh.concat=function(bA){var bB,bC;bB=[];for(var bD in bA)bB.push.apply(bB,bA[bD]);return bB;};bi.$cctor=function(){bi.$cctor=a.ignore;bi.counter=0;};bj=ba.Scheduler=bw.Class({Fork:function(bA){var bB;bB=this;this.robin.push(bA);this.idle?(this.idle=false,a.setTimeout(function(){bB.tick();},0)):void 0;},tick:function(){var bA,bB,bC;bB=this;bC=bz.now();bA=true;while(bA)if(this.robin.length===0){this.idle=true;bA=false;}else{(this.robin.shift())();bz.now()-bC>40?(a.setTimeout(function(){bB.tick();},0),bA=false):void 0;}}},l,bj);bj.New=bw.Ctor(function(){l.New.call(this);this.idle=true;this.robin=[];},bj);bk=b.CancellationTokenSource=bw.Class({},l,bk);bk.New=bw.Ctor(function(){l.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bk);bl.Children=function(bA,bB){var bC,bD,bE;if(bB!=null&&bB.$==1){bE=[];bC=bB.$0[0].nextSibling;while(bC!==bB.$0[1]){bE.push(bC);bC=bC.nextSibling;}return{$:0,$0:bE};}else return{$:0,$0:A.init(bA.childNodes.length,(bD=bA.childNodes,function(bF){return bD[bF];}))};};bl.Except=function(bA,bB){var bC;bC=bA.$0;return{$:0,$0:A.filter(function(bD){return A.forall(function(bE){return!(bD===bE);},bC);},bB.$0)};};bl.Iter=function(bA,bB){A.iter(bA,bB.$0);};bl.DocChildren=function(bA){var bB;function bC(bD){if(bD!=null&&bD.$==2)bC(bD.$0.Current);else if(bD!=null&&bD.$==1)bB.push(bD.$0.El);else if(bD==null);else if(bD!=null&&bD.$==5)bB.push(bD.$0);else if(bD!=null&&bD.$==4)bB.push(bD.$0.Text);else if(bD!=null&&bD.$==6)A.iter(function(bE){if(bE==null||bE.constructor===K)bC(bE);else bB.push(bE);},bD.$0.Els);else{bC(bD.$0);bC(bD.$1);}}bB=[];bC(bA.Children);return{$:0,$0:I.ofSeqNonCopying(bB)};};bn=b.OperationCanceledException=bw.Class({},bm,bn);bn.New=bw.Ctor(function(bA){bn.New$1.call(this,"The operation was canceled.",null,bA);},bn);bn.New$1=bw.Ctor(function(bA,bB,bC){this.message=bA;this.inner=bB;K.setPrototypeOf(this,bn.prototype);this.ct=bC;},bn);bo.Create=function(bA){return bs.New(false,bA,bo.forceLazy);};bo.forceLazy=function(){var bA;bA=this.v();this.c=true;this.v=bA;this.f=bo.cachedLazy;return bA;};bo.cachedLazy=function(){return this.v;};bp.$cctor=function(){bp.$cctor=a.ignore;bp.Empty={$:0};};bq.Clear=function(bA){bA.splice(0,A.length(bA));};bs.New=function(bA,bB,bC){return{c:bA,v:bB,f:bC};};bw.OnLoad(function(){e.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
